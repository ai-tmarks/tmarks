name = "tmarks"
compatibility_date = "2024-03-18"
pages_build_output_dir = ".deploy"

[[d1_databases]]
binding = "DB"
database_name = "tmarks-prod-db"
database_id = "3d01ef25-44ca-48d6-a2e6-59aed5e29301"

[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "eb46a1f070ee4a6993461d49ec4bb0cd"  # 需要先创建KV命名空间

[[kv_namespaces]]
binding = "PUBLIC_SHARE_KV"
id = "e382f11b91dc4eafa4d98a4e7a5e3791"  # 需要先创建KV命名空间

# Environment variables
# ⚠️ 安全警告: 敏感信息不应该提交到Git仓库!
#
# 推荐做法:
# 1. 在Cloudflare Dashboard中配置环境变量 (Settings → Environment variables)
# 2. 本地开发使用 .dev.vars 文件 (已在.gitignore中)
# 3. wrangler.toml 只保留非敏感的默认值

[vars]
ALLOW_REGISTRATION = "true"
ENVIRONMENT = "production"
JWT_ACCESS_TOKEN_EXPIRES_IN = "365d"
JWT_REFRESH_TOKEN_EXPIRES_IN = "365d"

# ⚠️ 敏感信息必须在Cloudflare Dashboard中配置:
# - JWT_SECRET (至少32个字符的随机字符串)

# - ENCRYPTION_KEY (至少32个字符的随机字符串)
